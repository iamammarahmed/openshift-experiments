# Central configuration for the dwhtrans Hive metastore catalog experiment.
# Update the values in this file to tailor the deployment for a specific client.

# Global labels and naming
DWT_APP_NAME=dwhtrans-catalog
DWT_PART_OF_LABEL=dwhtrans-catalog
DWT_LABEL_AREA=hive-catalog
DWT_COMPONENT_METASTORE=metastore
DWT_COMPONENT_DATABASE=database
DWT_COMPONENT_SCHEMA_LOADER=schema-loader

# Service account used by all workloads
DWT_SERVICE_ACCOUNT_NAME=dwhtrans-catalog-serviceaccount

# Hive metastore deployment configuration
DWT_METASTORE_DEPLOYMENT_NAME=dwhtrans-catalog-deployment
DWT_METASTORE_IMAGE=quay.io/openshift/origin-hive-metastore:latest
DWT_METASTORE_REPLICAS=1
DWT_METASTORE_SERVICE_NAME=dwhtrans-catalog-service
DWT_METASTORE_THRIFT_PORT=9083
DWT_METASTORE_CPU_REQUEST=250m
DWT_METASTORE_MEMORY_REQUEST=1Gi
DWT_METASTORE_CPU_LIMIT=1
DWT_METASTORE_MEMORY_LIMIT=2Gi
DWT_METASTORE_JAVA_TOOL_OPTIONS="-Xms512m -Xmx1g"

# Backing PostgreSQL configuration
DWT_DB_STATEFULSET_NAME=dwhtrans-catalog-db
DWT_DB_IMAGE=registry.redhat.io/rhel9/postgresql-15:latest
DWT_DB_SERVICE_NAME=dwhtrans-catalog-db
DWT_DB_PORT=5432
DWT_DB_NAME=metastore
DWT_DB_USERNAME=metastore
DWT_DB_PASSWORD=change-me
DWT_DB_SECRET_NAME=dwhtrans-catalog-db
DWT_DB_REPLICAS=1
DWT_DB_STORAGE_SIZE=10Gi
DWT_DB_STORAGE_CLASS=managed-csi
DWT_DB_CPU_REQUEST=250m
DWT_DB_MEMORY_REQUEST=512Mi
DWT_DB_CPU_LIMIT=1
DWT_DB_MEMORY_LIMIT=1Gi

# S3/StorageGRID access configuration
DWT_S3_SECRET_NAME=dwhtrans-catalog-s3
DWT_S3_ACCESS_KEY=CHANGEME_NETAPP_ACCESS_KEY
DWT_S3_SECRET_KEY=CHANGEME_NETAPP_SECRET_KEY
DWT_S3_REGION=us-east-1
DWT_S3_ENDPOINT=storagegrid.example.com
DWT_S3_BUCKET=hive-catalog-bucket
DWT_S3_PATH_STYLE=true
DWT_S3_SSL_ENABLED=true
DWT_S3_SCHEMA_PREFIX=schemas/hive-ddl

# Shared ConfigMap
DWT_CONFIGMAP_NAME=dwhtrans-catalog-config

# Schema loader resources
DWT_SCHEMA_LOADER_PVC_NAME=dwhtrans-catalog-schema-loader
DWT_SCHEMA_LOADER_STORAGE_SIZE=1Gi
DWT_SCHEMA_LOADER_DEPLOYMENT_NAME=dwhtrans-catalog-schema-loader
DWT_SCHEMA_LOADER_REPLICAS=1
DWT_SCHEMA_SYNC_IMAGE=amazon/aws-cli:2.15.34
DWT_SCHEMA_RUNNER_IMAGE=apache/hive:3.1.3
DWT_SCHEMA_CPU_REQUEST=250m
DWT_SCHEMA_MEMORY_REQUEST=1Gi
DWT_SCHEMA_CPU_LIMIT=1
DWT_SCHEMA_MEMORY_LIMIT=2Gi
